<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- ENCABEZADO: Metadatos y enlaces a hojas de estilo CSS -->
    <link rel="stylesheet" href="../../../styles/home.css"> <!-- Estilos generales de la home, reutilizados -->
    <link rel="stylesheet" href="../../../styles/logout.css"> <!-- Estilos para el modal de cerrar sesión -->
    <link rel="stylesheet" href="../../../styles/nav.css">
    <title>Mapas - Sistema de Automatizacion de Obras SISAO</title>
</head>
<body>
    <!-- INICIO DEL BODY -->

    <!-- NOTIFICACIÓN GLOBAL: Para mostrar mensajes de éxito o error -->
    <p class="notification"></p>

    <!-- CABECERA SUPERIOR: Contiene logos institucionales y botones de navegación/acción -->
    <div class="contentEscudos">
        <img src="../../../img/GDCSF.png" class="imgGDC" alt="Logo GDC"> <!-- Logo Izquierdo -->

        <!-- Sección central de la cabecera: Enlace a Inicio y Botón de Cerrar Sesión -->
        <div class="contentEscudosSecun">
            <div class="contentHome">
                <div>
                    <img src="../../../img/home.png" class="imgHome" alt="icono de home"> <!-- Icono de Home -->
                </div>
                <a href="../home/home.html">Inicio</a> <!-- Enlace a la página principal -->
            </div>
            <div>
                <div></div>
                <button class="back-button" id="logoutButton">Cerrar Sesion</button> <!-- Botón para cerrar sesión -->
            </div>
        </div>

        <img src="../../../img/GOBIERNO.png" class="imgGOB" alt="Logo de Gobierno"> <!-- Logo Derecho -->
    </div>
    <!-- FIN DE CABECERA SUPERIOR -->

    <!-- TÍTULO PRINCIPAL DE LA PÁGINA DEL SISTEMA -->
    <div class="contentTitulo">
        <div>
            <!-- Icono SVG decorativo para el título -->
            <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="none"
            stroke="#ffffff"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            >
            <path d="M3 4a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-12z" />
            <path d="M3 13h18" />
            <path d="M8 21h8" />
            <path d="M10 17l-.5 4" />
            <path d="M14 17l.5 4" />
            </svg>

        </div>
        <h1>Sistema de Automatizacion de Obras SISAO</h1>
    </div>
    <!-- FIN DEL TÍTULO PRINCIPAL -->

    <!-- BARRA DE NAVEGACIÓN SECUNDARIA (DENTRO DE LAS SECCIONES DEL NAV PRINCIPAL) -->
    <div class="contentNav">
        <div>
            <a href="../nav/otc.html" class="navA">OTC</a>
            <a href="../nav/dependencias.html">Dependencias</a>
            <a href="../nav/mapas.html">Mapas</a> <!-- "navA" indica la página activa -->
            <a href="../nav/pdf_s.html">PDF's</a>
        </div>
    </div>
    <!-- FIN DE BARRA DE NAVEGACIÓN SECUNDARIA -->

    <!-- CONTENEDOR PRINCIPAL PARA EL CONTENIDO DE LA SECCIÓN "MAPAS" -->
    <div class="contentEstadistica">
        <div class="contentInfoNav">
            <h2>Organización Territorial de Caracas</h2>
            <div>
                <h3>Circuitos: 5</h3>
                <h3>Parroquias: 22</h3>
                <h3>Comunas: 299</h3>
                <div id="circuitos-container"></div>
            </div>
            <div>
                <a id="comunidades-no-tocadas"></a>
            </div>
        </div>
    </div>
    <!-- FIN DEL CONTENEDOR DE CONTENIDO DE "MAPAS" -->

    <!-- Popup para mostrar comunas -->
    <div id="comunas-popup" class="modal-otc">
        <div class="popupComuna">
            <div class="modal-content-otc">
                <span class="close-button">&times;</span>
                <h2 id="comunas-popup-title">Comunas</h2>
                <div id="comunas-list"></div>
                <div>
                    <button id="agregar-comuna-btn">Agregar Comuna</button>
                    <button id="agregar-consejo-comunal-btn">Agregar Consejo Comunal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup para agregar comuna -->
    <div id="agregar-comuna-popup" class="modal-otc">
        <div class="popupComuna">
            <div class="modal-content-otc">
                <div class="popupAgComuna">
                    <span class="close-button">&times;</span>
                    <h2>Agregar Nueva Comuna</h2>
                    <form id="agregar-comuna-form">
                        <div class="form-group">
                            <input type="text" id="comuna-nombre" placeholder="Nombre de la Comuna" required>
                            <input type="text" id="comuna-codigo" placeholder="Código del Circuito Comunal" required>
                        </div>
                        <div id="consejos-comunales-container">
                            <!-- Contenedor para consejos comunales -->
                        </div>
                        <div class="btn-container">
                            <button type="submit">Guardar Comuna</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup para agregar consejo comunal -->
    <div id="agregar-consejo-comunal-popup" class="modal-otc">
        <div class="popupComuna">
            <div class="modal-content-otc">
                <span class="close-button">&times;</span>
                <h2>Agregar Nuevo Consejo Comunal</h2>
                <form id="agregar-consejo-comunal-form">
                    <div class="ag-consejo-1">
                        <select id="comuna-select" required>
                            <option value="">Seleccione una Comuna</option>
                        </select>
                        <div id="consejos-comunales-container-simple">
                            <!-- Contenedor para consejos comunales -->
                        </div>
                    </div>
                    <div class="ag-consejo-2">
                        <button type="button" class="btn-consejo" id="agregar-consejo-simple-btn">+</button>
                        <button type="submit" class="btn-consejo-guardar">Guardar Datos</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Popup para comunidades no tocadas -->
    <div id="no-tocadas-popup" class="modal-otc">
        <div class="modal-content-otc">
            <span class="close-button">&times;</span>
            <h2>Comunidades No Tocadas</h2>
            <div id="no-tocadas-list"></div>
        </div>
    </div>

    <!-- POPUP (MODAL) DE CONFIRMACIÓN PARA CERRAR SESIÓN -->
    <div id="logoutConfirmModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('logoutConfirmModal')">&times;</span> <!-- Botón para cerrar modal -->
            <h2>¿Estás seguro que quieres cerrar sesión?</h2>
            <p>Al cerrar sesión, tendrás que volver a iniciarla para acceder al contenido.</p>
            <div class="button-group">
                <button class="confirm-btn" id="confirmLogoutBtn">Sí, cerrar sesión</button>
                <button class="cancel-btn" onclick="closeModal('logoutConfirmModal')">No, quedarse</button>
            </div>
        </div>
    </div>
    <!-- FIN DEL POPUP DE CERRAR SESIÓN -->

    <!-- SCRIPTS JS -->
    <script type="module" src="../../../scripts/sesion/auth.js"></script> <!-- Script para autenticación y manejo de sesión -->
    <script type="module" src="../../../scripts/sesion/logout.js"></script> <!-- Script para la funcionalidad de cerrar sesión -->
    <script type="module" src="../../../scripts/otc.js"></script>
    <!-- FIN DE SCRIPTS JS -->

</body>
</html>